{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AdminBoardComponent = class AdminBoardComponent {\n  constructor(userService) {\n    this.userService = userService;\n    this.users = [];\n    this.allRoles = ['ROLE_USER', 'ROLE_MODERATOR', 'ROLE_ADMIN'];\n    this.moderators = [];\n    this.selectedRole = '';\n  }\n  ngOnInit() {\n    this.fetchUsers();\n    this.fetchModerators();\n  }\n  fetchUsers() {\n    this.userService.getAllUsers().subscribe(data => {\n      this.users = data;\n    }, error => {\n      console.error('Error loading users:', error);\n    });\n  }\n  fetchModerators() {\n    this.userService.getModerators().subscribe(data => {\n      this.moderators = data;\n    }, error => {\n      console.error('Error loading moderators:', error);\n    });\n  }\n  addUser(newUser) {\n    if (this.selectedRole === 'ROLE_USER' && this.selectedModeratorId) {\n      newUser.moderatorId = this.selectedModeratorId;\n    }\n    newUser.role = [this.selectedRole];\n    this.userService.addUser(newUser).subscribe(response => {\n      console.log('User added successfully:', response);\n      this.fetchUsers();\n    }, error => {\n      console.error('Error adding user:', error);\n    });\n  }\n  updateUser(user) {\n    const userPayload = {\n      username: user.username,\n      email: user.email,\n      roles: user.roles.map(role => ({\n        name: role\n      }))\n    };\n    this.userService.updateUser(user.id, userPayload).subscribe(response => {\n      console.log('User updated successfully', response);\n      this.fetchUsers();\n    }, error => {\n      console.error('Error updating user:', error);\n    });\n  }\n  deleteUser(user) {\n    if (confirm(\"Are you sure to delete \" + user.username + \"?\")) {\n      this.userService.deleteUser(user.id).subscribe(response => {\n        console.log(\"User deleted successfully\", response);\n        this.fetchUsers();\n      }, error => {\n        console.error('Error deleting user:', error);\n      });\n    }\n  }\n};\nAdminBoardComponent = __decorate([Component({\n  selector: 'app-admin-board',\n  templateUrl: './admin-board.component.html',\n  styleUrls: ['./admin-board.component.css']\n})], AdminBoardComponent);\nexport { AdminBoardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}