{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/auth.service\";\nimport * as i2 from \"../_services/token-storage.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction LoginComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"router-outlet\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_ng_template_1_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 13);\n    i0.ɵɵtext(2, \"Admin List\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_ng_template_1_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 7)(1, \"a\", 14);\n    i0.ɵɵtext(2, \"Moderator Board\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction LoginComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"nav\", 3)(2, \"a\", 4);\n    i0.ɵɵtext(3, \"Dashboard Zakaria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ul\", 5);\n    i0.ɵɵtemplate(5, LoginComponent_ng_template_1_li_5_Template, 3, 0, \"li\", 6);\n    i0.ɵɵtemplate(6, LoginComponent_ng_template_1_li_6_Template, 3, 0, \"li\", 6);\n    i0.ɵɵelementStart(7, \"li\", 7)(8, \"a\", 8);\n    i0.ɵɵtext(9, \"User\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"ul\", 9)(11, \"li\", 7)(12, \"a\", 10);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"li\", 7)(15, \"a\", 11);\n    i0.ɵɵlistener(\"click\", function LoginComponent_ng_template_1_Template_a_click_15_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.logout());\n    });\n    i0.ɵɵtext(16, \"Logout\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(17, \"div\", 12);\n    i0.ɵɵelement(18, \"router-outlet\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showAdminBoard);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.showModeratorBoard);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r2.username);\n  }\n}\nlet LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(authService, tokenStorage, router) {\n      this.authService = authService;\n      this.tokenStorage = tokenStorage;\n      this.router = router;\n      this.isSignUpVisible = false;\n      this.signUpObj = {\n        name: '',\n        email: '',\n        password: ''\n      };\n      this.loginObj = {\n        email: '',\n        password: ''\n      };\n      this.errorMessage = '';\n    }\n    ngOnInit() {\n      if (this.tokenStorage.getToken()) {\n        this.router.navigate(['/profile']);\n      }\n    }\n    onLogin() {\n      this.authService.login({\n        username: this.loginObj.email,\n        password: this.loginObj.password\n      }).subscribe(data => {\n        this.tokenStorage.saveToken(data.accessToken);\n        this.tokenStorage.saveUser(data);\n        this.router.navigate(['/profile']);\n      }, err => {\n        this.errorMessage = err.error.message;\n      });\n    }\n    onRegister() {\n      this.authService.register({\n        username: this.signUpObj.name,\n        email: this.signUpObj.email,\n        password: this.signUpObj.password\n      }).subscribe(data => {\n        console.log('Registration successful', data);\n        this.isSignUpVisible = false; // Switch to login view after successful registration\n      }, err => {\n        this.errorMessage = err.error.message;\n      });\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.TokenStorageService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 3,\n      vars: 2,\n      consts: [[4, \"ngIf\", \"ngIfElse\"], [\"loggedInTemplate\", \"\"], [\"id\", \"app\"], [1, \"navbar\", \"navbar-expand\", \"navbar-dark\", \"bg-dark\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"routerLinkActive\", \"active\", 1, \"navbar-nav\", \"mr-auto\"], [\"class\", \"nav-item\", 4, \"ngIf\"], [1, \"nav-item\"], [\"href\", \"/user\", \"routerLink\", \"user\", 1, \"nav-link\"], [1, \"navbar-nav\", \"ml-auto\"], [\"href\", \"/profile\", \"routerLink\", \"profile\", 1, \"nav-link\"], [1, \"nav-link\", 3, \"click\"], [1, \"container\"], [\"routerLink\", \"admin-board\", 1, \"nav-link\"], [\"href\", \"/mod\", \"routerLink\", \"mod\", 1, \"nav-link\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, LoginComponent_div_0_Template, 2, 0, \"div\", 0);\n          i0.ɵɵtemplate(1, LoginComponent_ng_template_1_Template, 19, 3, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(2);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn)(\"ngIfElse\", _r1);\n        }\n      },\n      dependencies: [i4.NgIf, i3.RouterOutlet, i3.RouterLink, i3.RouterLinkActive],\n      styles: [\"@import\\\"https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap\\\";*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box;font-family:Montserrat,sans-serif}.parent[_ngcontent-%COMP%]{background-color:#c9d6ff;background:linear-gradient(to right,#e2e2e2,#c9d6ff);display:flex;align-items:center;justify-content:center;flex-direction:column;height:100vh}.container[_ngcontent-%COMP%]{background-color:#fff;border-radius:30px;box-shadow:0 5px 15px #00000059;position:relative;overflow:hidden;width:768px;max-width:100%;min-height:480px}.container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;line-height:20px;letter-spacing:.3px;margin:20px 0}.container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px}.container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333;font-size:13px;text-decoration:none;margin:15px 0 10px}.container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#512da8;color:#fff;font-size:12px;padding:10px 45px;border:1px solid transparent;border-radius:8px;font-weight:600;letter-spacing:.5px;text-transform:uppercase;margin-top:10px;cursor:pointer}.container[_ngcontent-%COMP%]   button.hidden[_ngcontent-%COMP%]{background-color:transparent;border-color:#fff}.container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:#fff;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 40px;height:100%}.container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none;margin:8px 0;padding:10px 15px;font-size:13px;border-radius:8px;width:100%;outline:none}.form-container[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;transition:all .6s ease-in-out}.sign-in[_ngcontent-%COMP%]{left:0;width:50%;z-index:2}.container.active[_ngcontent-%COMP%]   .sign-in[_ngcontent-%COMP%]{transform:translate(100%)}.sign-up[_ngcontent-%COMP%]{left:0;width:50%;opacity:0;z-index:1;transition:all .5s}.container.active[_ngcontent-%COMP%]   .sign-up[_ngcontent-%COMP%]{transform:translate(100%);opacity:1;z-index:5;animation:_ngcontent-%COMP%_move .6s}@keyframes _ngcontent-%COMP%_move{0%,49.99%{opacity:0;z-index:1}50%,to{opacity:1;z-index:5}}.social-icons[_ngcontent-%COMP%]{margin:20px 0}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:20%;display:inline-flex;justify-content:center;align-items:center;margin:0 3px;width:40px;height:40px;transition:all .5s}.social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.3;border:1px solid #000}.toggle-container[_ngcontent-%COMP%]{position:absolute;top:0;left:50%;width:50%;height:100%;overflow:hidden;transition:all .6s ease-in-out;border-radius:150px 0 0 100px;z-index:1000}.container.active[_ngcontent-%COMP%]   .toggle-container[_ngcontent-%COMP%]{transform:translate(-100%);border-radius:0 150px 100px 0}.toggle[_ngcontent-%COMP%]{background-color:#512da8;background:linear-gradient to right,#5c6bc0,#512da8;color:#fff;position:relative;left:-100%;height:100%;width:200%;transform:translate(0);transition:all .6s ease-in-out}.container.active[_ngcontent-%COMP%]   .toggle[_ngcontent-%COMP%]{transform:translate(50%)}.toggle-panel[_ngcontent-%COMP%]{position:absolute;width:50%;height:100%;display:flex;align-items:center;justify-content:center;flex-direction:column;padding:0 30px;text-align:center;top:0;transform:translate(0);transition:all .6s ease-in-out}.toggle-left[_ngcontent-%COMP%]{transform:translate(-200%)}.container.active[_ngcontent-%COMP%]   .toggle-left[_ngcontent-%COMP%]{transform:translate(0)}.toggle-right[_ngcontent-%COMP%]{right:0;transform:translate(0)}.container.active[_ngcontent-%COMP%]   .toggle-right[_ngcontent-%COMP%]{transform:translate(200%)}\"]\n    });\n  }\n  return LoginComponent;\n})();\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}