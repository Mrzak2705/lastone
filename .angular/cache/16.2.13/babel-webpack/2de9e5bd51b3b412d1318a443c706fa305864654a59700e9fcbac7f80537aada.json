{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(authService, tokenStorage, router) {\n    this.authService = authService;\n    this.tokenStorage = tokenStorage;\n    this.router = router;\n    this.isSignUpVisible = false;\n    this.signUpObj = {\n      name: '',\n      email: '',\n      password: ''\n    };\n    this.loginObj = {\n      email: '',\n      password: ''\n    };\n    this.errorMessage = '';\n  }\n  ngOnInit() {\n    if (this.tokenStorage.getToken()) {\n      this.router.navigate(['/profile']);\n    }\n  }\n  onLogin() {\n    this.authService.login({\n      username: this.loginObj.email,\n      password: this.loginObj.password\n    }).subscribe(data => {\n      this.tokenStorage.saveToken(data.accessToken);\n      this.tokenStorage.saveUser(data);\n      this.router.navigate(['/profile']);\n    }, err => {\n      this.errorMessage = err.error.message;\n    });\n  }\n  onRegister() {\n    this.authService.register({\n      username: this.signUpObj.name,\n      email: this.signUpObj.email,\n      password: this.signUpObj.password\n    }).subscribe(data => {\n      console.log('Registration successful', data);\n      this.isSignUpVisible = false; // Switch to login view after successful registration\n    }, err => {\n      this.errorMessage = err.error.message;\n    });\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}