{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { MessageService } from 'primeng/api'; // Pour afficher des messages/toasts\nlet AssignProjectsComponent = class AssignProjectsComponent {\n  constructor(projectAssignmentService, userService, messageService) {\n    this.projectAssignmentService = projectAssignmentService;\n    this.userService = userService;\n    this.messageService = messageService;\n    this.users = [];\n    this.projets = [];\n    this.selectedUser = null;\n    this.selectedProjectIds = [];\n  }\n  ngOnInit() {\n    this.userService.getAllUsers().subscribe(users => this.users = users);\n    this.userService.getAllProjects().subscribe(projets => this.projets = projets);\n  }\n  assignProjects() {\n    if (!this.selectedUser) {\n      this.messageService.add({\n        severity: 'warn',\n        summary: 'Warning',\n        detail: 'Please select a user before assigning projects.'\n      });\n      return; // Arrête l'exécution si aucun utilisateur n'est sélectionné\n    }\n\n    if (this.selectedProjectIds.length === 0) {\n      this.messageService.add({\n        severity: 'warn',\n        summary: 'Warning',\n        detail: 'Please select at least one project before assigning.'\n      });\n      return; // Arrête l'exécution si aucun projet n'est sélectionné\n    }\n\n    this.projectAssignmentService.assignProjectsToUser(this.selectedUser.id, this.selectedProjectIds).subscribe(response => {\n      this.messageService.add({\n        severity: 'success',\n        summary: 'Success',\n        detail: response.message || 'Projects assigned successfully.'\n      });\n    }, error => {\n      const errorMessage = error?.error?.message || 'An error occurred while assigning projects. Please try again later.';\n      this.messageService.add({\n        severity: 'error',\n        summary: 'Error',\n        detail: errorMessage\n      });\n    });\n  }\n};\nAssignProjectsComponent = __decorate([Component({\n  selector: 'app-assign-projects',\n  templateUrl: './assign-projects.component.html',\n  styleUrls: ['./assign-projects.component.css'],\n  providers: [MessageService] // Ajout de MessageService comme fournisseur\n})], AssignProjectsComponent);\nexport { AssignProjectsComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}