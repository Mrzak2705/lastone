{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../_services/auth.service\";\nimport * as i2 from \"../_services/token-storage.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = function (a0) {\n  return {\n    \"active\": a0\n  };\n};\nlet LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(authService, tokenStorage, router) {\n      this.authService = authService;\n      this.tokenStorage = tokenStorage;\n      this.router = router;\n      this.isSignUpVisible = false;\n      this.signUpObj = {\n        name: '',\n        email: '',\n        password: ''\n      };\n      this.loginObj = {\n        email: '',\n        password: ''\n      };\n      this.errorMessage = '';\n    }\n    ngOnInit() {\n      if (this.tokenStorage.getToken()) {\n        this.router.navigate(['/profile']);\n      }\n    }\n    onLogin() {\n      this.authService.login({\n        username: this.loginObj.email,\n        password: this.loginObj.password\n      }).subscribe(data => {\n        this.tokenStorage.saveToken(data.accessToken);\n        this.tokenStorage.saveUser(data);\n        this.router.navigate(['/profile']);\n      }, err => {\n        this.errorMessage = err.error.message;\n      });\n    }\n    onRegister() {\n      this.authService.register({\n        username: this.signUpObj.name,\n        email: this.signUpObj.email,\n        password: this.signUpObj.password\n      }).subscribe(data => {\n        console.log('Registration successful', data);\n        this.isSignUpVisible = false; // Switch to login view after successful registration\n      }, err => {\n        this.errorMessage = err.error.message;\n      });\n    }\n    static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.TokenStorageService), i0.ɵɵdirectiveInject(i3.Router));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 59,\n      vars: 8,\n      consts: [[1, \"parent\"], [\"id\", \"container\", 1, \"container\", 3, \"ngClass\"], [1, \"form-container\", \"sign-up\"], [1, \"social-icons\"], [\"href\", \"#\", 1, \"icon\"], [1, \"fa-brands\", \"fa-google-plus-g\"], [1, \"fa-brands\", \"fa-facebook-f\"], [1, \"fa-brands\", \"fa-github\"], [1, \"fa-brands\", \"fa-linkedin-in\"], [\"type\", \"text\", \"name\", \"name\", \"placeholder\", \"Name\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Email\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Password\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"form-container\", \"sign-in\"], [\"the\", \"fa-brands fa-facebook-f\"], [\"href\", \"#\"], [1, \"toggle-container\"], [1, \"toggle\"], [1, \"toggle-panel\", \"toggle-left\"], [\"type\", \"button\", \"id\", \"login\", 1, \"hidden\", 3, \"click\"], [1, \"toggle-panel\", \"toggle-right\"], [\"type\", \"button\", \"id\", \"register\", 1, \"hidden\", 3, \"click\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"form\")(4, \"h1\");\n          i0.ɵɵtext(5, \"Create Account\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 3)(7, \"a\", 4);\n          i0.ɵɵelement(8, \"i\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"a\", 4);\n          i0.ɵɵelement(10, \"i\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"a\", 4);\n          i0.ɵɵelement(12, \"i\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"a\", 4);\n          i0.ɵɵelement(14, \"i\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"span\");\n          i0.ɵɵtext(16, \"or use your email for registration\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"input\", 9);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_17_listener($event) {\n            return ctx.signUpObj.name = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"input\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_18_listener($event) {\n            return ctx.signUpObj.email = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_19_listener($event) {\n            return ctx.signUpObj.password = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_20_listener() {\n            return ctx.onRegister();\n          });\n          i0.ɵɵtext(21, \"Sign Up\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(22, \"div\", 13)(23, \"form\")(24, \"h1\");\n          i0.ɵɵtext(25, \"Sign In\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"div\", 3)(27, \"a\", 4);\n          i0.ɵɵelement(28, \"i\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"a\", 4);\n          i0.ɵɵelement(30, \"i\", 14);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(31, \"a\", 4);\n          i0.ɵɵelement(32, \"i\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"a\", 4);\n          i0.ɵɵelement(34, \"i\", 8);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(35, \"span\");\n          i0.ɵɵtext(36, \"or use your email password\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(37, \"input\", 10);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_37_listener($event) {\n            return ctx.loginObj.email = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"input\", 11);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_38_listener($event) {\n            return ctx.loginObj.password = $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"a\", 15);\n          i0.ɵɵtext(40, \"\\u2192 Forget Your Password? \\u2190\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(41, \"button\", 12);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_41_listener() {\n            return ctx.onLogin();\n          });\n          i0.ɵɵtext(42, \"Sign In\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(43, \"div\", 16)(44, \"div\", 17)(45, \"div\", 18)(46, \"h1\");\n          i0.ɵɵtext(47, \"Welcome Back!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(48, \"p\");\n          i0.ɵɵtext(49, \"Enter your personal details and start journey with us\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(50, \"button\", 19);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_50_listener() {\n            return ctx.isSignUpVisible = false;\n          });\n          i0.ɵɵtext(51, \"Sign In\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(52, \"div\", 20)(53, \"h1\");\n          i0.ɵɵtext(54, \"Hello, Friend!\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(55, \"p\");\n          i0.ɵɵtext(56, \"Enter your personal details and start your journey with us\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(57, \"button\", 21);\n          i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_57_listener() {\n            return ctx.isSignUpVisible = true;\n          });\n          i0.ɵɵtext(58, \"Sign Up\");\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(6, _c0, ctx.isSignUpVisible));\n          i0.ɵɵadvance(16);\n          i0.ɵɵproperty(\"ngModel\", ctx.signUpObj.name);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.signUpObj.email);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.signUpObj.password);\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngModel\", ctx.loginObj.email);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngModel\", ctx.loginObj.password);\n        }\n      },\n      dependencies: [i4.NgClass, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%]; (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  {// webpackBootstrap var __webpack_modules__ = ({634: (() => {throw new Error('Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):nnSyntaxErrornn(66:28) C:\\\\\\\\Users\\\\\\\\pc\\\\\\\\Desktop\\\\\\\\angular-10-spring-boot-jwt-authentication\\\\\\\\projet bcp\\\\\\\\angular-10-client\\\\\\\\src\\\\\\\\app\\\\\\\\login\\\\\\\\login.component.css Unknown wordnn u001b[90m 64 | u001b[39m          *ngIf=u001b[32m\\\"f.submitted && isLoginFailed\\\"u001b[39mn u001b[90m 65 | u001b[39m        >nu001b[1mu001b[31m>u001b[39mu001b[22mu001b[90m 66 | u001b[39m          Login failedu001b[33m:u001b[39m u001b[33m{u001b[39mu001b[33m{u001b[39m errorMessage u001b[33m}u001b[39mu001b[33m}u001b[39mn u001b[90m    | u001b[39m                           u001b[1mu001b[31m^u001b[39mu001b[22mn u001b[90m 67 | u001b[39m        </div>n u001b[90m 68 | u001b[39m      </div>n');})}); // startup // Load entry module and return exports // This entry module doesn\\\"t tell about it\\\"s top-level declarations so it can't be inlined\\nvar __webpack_exports__ = {}; __webpack_modules__[634](); resource = __webpack_exports__;})()[_ngcontent-%COMP%]   ;[_ngcontent-%COMP%]{}\"]\n    });\n  }\n  return LoginComponent;\n})();\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}